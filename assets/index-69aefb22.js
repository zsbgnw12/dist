var Yn=Object.defineProperty;var Gn=(t,e,n)=>e in t?Yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var F=(t,e,n)=>(Gn(t,typeof e!="symbol"?e+"":e,n),n);import{i as We,g as Jn,w as Bn,o as Qn,c as ue,a as ce,b as Fe,d as Pn,e as Ft,u as qn,f as gt,r as Ae,h as te,j as Rn,p as Rt,k as Xt,l as G,m as bt,n as _n,q as Xn,s as et,t as tt,v as en,x as er,y as tr,z as xe,A as nr,T as rr,B as ir,C as tn,_ as or,D as sr,E as ar,F as lr,G as at,H as Te,I as nt,J as Ce,K as fr,N as nn,L as cr,M as ur,O as dr,P as hr,Q as gr}from"./index-def0b482.js";function mr(t,e,n){var r;const i=We(t,null);if(i===null)return;const o=(r=Jn())===null||r===void 0?void 0:r.proxy;Bn(n,s),s(n.value),Qn(()=>{s(void 0,n.value)});function s(f,c){const u=i[e];c!==void 0&&a(u,c),f!==void 0&&l(u,f)}function a(f,c){f[c]||(f[c]=[]),f[c].splice(f[c].findIndex(u=>u===o),1)}function l(f,c){f[c]||(f[c]=[]),~f[c].findIndex(u=>u===o)||f[c].push(o)}}const pr=ue("form",[ce("inline",`
 width: 100%;
 display: inline-flex;
 align-items: flex-start;
 align-content: space-around;
 `,[ue("form-item",{width:"auto",marginRight:"18px"},[Fe("&:last-child",{marginRight:0})])])]),Ye=Pn("n-form"),On=Pn("n-form-item-insts");var yr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{f(r.next(c))}catch(u){s(u)}}function l(c){try{f(r.throw(c))}catch(u){s(u)}}function f(c){c.done?o(c.value):i(c.value).then(a,l)}f((r=r.apply(t,e||[])).next())})};const vr=Object.assign(Object.assign({},gt.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:t=>t.preventDefault()},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),br=Ft({name:"Form",props:vr,setup(t){const{mergedClsPrefixRef:e}=qn(t);gt("Form","-form",pr,Rn,t,e);const n={},r=Ae(void 0),i=l=>{const f=r.value;(f===void 0||l>=f)&&(r.value=l)};function o(l,f=()=>!0){return yr(this,void 0,void 0,function*(){return yield new Promise((c,u)=>{const h=[];for(const m of Xt(n)){const y=n[m];for(const p of y)p.path&&h.push(p.internalValidate(null,f))}Promise.all(h).then(m=>{if(m.some(y=>!y.valid)){const y=m.filter(p=>p.errors).map(p=>p.errors);l&&l(y),u(y)}else l&&l(),c()})})})}function s(){for(const l of Xt(n)){const f=n[l];for(const c of f)c.restoreValidation()}}return Rt(Ye,{props:t,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:i}),Rt(On,{formItems:n}),Object.assign({validate:o,restoreValidation:s},{mergedClsPrefix:e})},render(){const{mergedClsPrefix:t}=this;return te("form",{class:[`${t}-form`,this.inline&&`${t}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function _e(){return _e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_e.apply(this,arguments)}function wr(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,De(t,e)}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_t(t)}function De(t,e){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},De(t,e)}function xr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lt(t,e,n){return xr()?lt=Reflect.construct.bind():lt=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),f=new l;return s&&De(f,s.prototype),f},lt.apply(null,arguments)}function Er(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Ot(t){var e=typeof Map=="function"?new Map:void 0;return Ot=function(r){if(r===null||!Er(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return lt(r,arguments,_t(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),De(i,r)},Ot(t)}var Sr=/%[sdj%]/g,Ar=function(){};typeof process<"u"&&process.env;function It(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function se(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(Sr,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function Br(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function K(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Br(e)&&typeof t=="string"&&!t)}function Pr(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function rn(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function qr(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var on=function(t){wr(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(Ot(Error));function Rr(t,e,n,r,i){if(e.first){var o=new Promise(function(h,m){var y=function(g){return r(g),g.length?m(new on(g,It(g))):h(i)},p=qr(t);rn(p,n,y)});return o.catch(function(h){return h}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,f=0,c=[],u=new Promise(function(h,m){var y=function(d){if(c.push.apply(c,d),f++,f===l)return r(c),c.length?m(new on(c,It(c))):h(i)};a.length||(r(c),h(i)),a.forEach(function(p){var d=t[p];s.indexOf(p)!==-1?rn(d,n,y):Pr(d,n,y)})});return u.catch(function(h){return h}),u}function _r(t){return!!(t&&t.message!==void 0)}function Or(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function sn(t,e){return function(n){var r;return t.fullFields?r=Or(e,t.fullFields):r=e[n.field||t.fullField],_r(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function an(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=_e({},t[n],r):t[n]=r}}return t}var In=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||K(n,s||e.type))&&i.push(se(o.messages.required,e.fullField))},Ir=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(se(o.messages.whitespace,e.fullField))},rt,kr=function(){if(rt)return rt;var t="[a-fA-F\\d:]",e=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(E){return E&&E.exact?o:new RegExp("(?:"+e(E)+n+e(E)+")|(?:"+e(E)+i+e(E)+")","g")};l.v4=function(v){return v&&v.exact?s:new RegExp(""+e(v)+n+e(v),"g")},l.v6=function(v){return v&&v.exact?a:new RegExp(""+e(v)+i+e(v),"g")};var f="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",u=l.v4().source,h=l.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",p="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",d="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',S="(?:"+f+"|www\\.)"+c+"(?:localhost|"+u+"|"+h+"|"+m+y+p+")"+d+g;return rt=new RegExp("(?:^"+S+"$)","i"),rt},ln={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ze={integer:function(e){return ze.number(e)&&parseInt(e,10)===e},float:function(e){return ze.number(e)&&!ze.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!ze.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(ln.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(kr())},hex:function(e){return typeof e=="string"&&!!e.match(ln.hex)}},$r=function(e,n,r,i,o){if(e.required&&n===void 0){In(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?ze[a](n)||i.push(se(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(se(o.messages.types[a],e.fullField,e.type))},Lr=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,u=null,h=typeof n=="number",m=typeof n=="string",y=Array.isArray(n);if(h?u="number":m?u="string":y&&(u="array"),!u)return!1;y&&(c=n.length),m&&(c=n.replace(f,"_").length),s?c!==e.len&&i.push(se(o.messages[u].len,e.fullField,e.len)):a&&!l&&c<e.min?i.push(se(o.messages[u].min,e.fullField,e.min)):l&&!a&&c>e.max?i.push(se(o.messages[u].max,e.fullField,e.max)):a&&l&&(c<e.min||c>e.max)&&i.push(se(o.messages[u].range,e.fullField,e.min,e.max))},je="enum",Tr=function(e,n,r,i,o){e[je]=Array.isArray(e[je])?e[je]:[],e[je].indexOf(n)===-1&&i.push(se(o.messages[je],e.fullField,e[je].join(", ")))},Cr=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(se(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(se(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},k={required:In,whitespace:Ir,type:$r,range:Lr,enum:Tr,pattern:Cr},jr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n,"string")&&!e.required)return r();k.required(e,n,i,s,o,"string"),K(n,"string")||(k.type(e,n,i,s,o),k.range(e,n,i,s,o),k.pattern(e,n,i,s,o),e.whitespace===!0&&k.whitespace(e,n,i,s,o))}r(s)},Fr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&k.type(e,n,i,s,o)}r(s)},Nr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&(k.type(e,n,i,s,o),k.range(e,n,i,s,o))}r(s)},Hr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&k.type(e,n,i,s,o)}r(s)},Vr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),K(n)||k.type(e,n,i,s,o)}r(s)},Ur=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&(k.type(e,n,i,s,o),k.range(e,n,i,s,o))}r(s)},zr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&(k.type(e,n,i,s,o),k.range(e,n,i,s,o))}r(s)},Mr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();k.required(e,n,i,s,o,"array"),n!=null&&(k.type(e,n,i,s,o),k.range(e,n,i,s,o))}r(s)},Zr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&k.type(e,n,i,s,o)}r(s)},Dr="enum",Kr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o),n!==void 0&&k[Dr](e,n,i,s,o)}r(s)},Wr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n,"string")&&!e.required)return r();k.required(e,n,i,s,o),K(n,"string")||k.pattern(e,n,i,s,o)}r(s)},Yr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n,"date")&&!e.required)return r();if(k.required(e,n,i,s,o),!K(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),k.type(e,l,i,s,o),l&&k.range(e,l.getTime(),i,s,o)}}r(s)},Gr=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;k.required(e,n,i,s,o,a),r(s)},wt=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(K(n,s)&&!e.required)return r();k.required(e,n,i,a,o,s),K(n,s)||k.type(e,n,i,a,o)}r(a)},Jr=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(K(n)&&!e.required)return r();k.required(e,n,i,s,o)}r(s)},Me={string:jr,method:Fr,number:Nr,boolean:Hr,regexp:Vr,integer:Ur,float:zr,array:Mr,object:Zr,enum:Kr,pattern:Wr,date:Yr,url:wt,hex:wt,email:wt,required:Gr,any:Jr};function kt(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $t=kt(),Ge=function(){function t(n){this.rules=null,this._messages=$t,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=an(kt(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,f=o;if(typeof l=="function"&&(f=l,l={}),!this.rules||Object.keys(this.rules).length===0)return f&&f(null,a),Promise.resolve(a);function c(p){var d=[],g={};function S(E){if(Array.isArray(E)){var R;d=(R=d).concat.apply(R,E)}else d.push(E)}for(var v=0;v<p.length;v++)S(p[v]);d.length?(g=It(d),f(d,g)):f(null,a)}if(l.messages){var u=this.messages();u===$t&&(u=kt()),an(u,l.messages),l.messages=u}else l.messages=this.messages();var h={},m=l.keys||Object.keys(this.rules);m.forEach(function(p){var d=s.rules[p],g=a[p];d.forEach(function(S){var v=S;typeof v.transform=="function"&&(a===r&&(a=_e({},a)),g=a[p]=v.transform(g)),typeof v=="function"?v={validator:v}:v=_e({},v),v.validator=s.getValidationMethod(v),v.validator&&(v.field=p,v.fullField=v.fullField||p,v.type=s.getType(v),h[p]=h[p]||[],h[p].push({rule:v,value:g,source:a,field:p}))})});var y={};return Rr(h,l,function(p,d){var g=p.rule,S=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");S=S&&(g.required||!g.required&&p.value),g.field=p.field;function v(B,A){return _e({},A,{fullField:g.fullField+"."+B,fullFields:g.fullFields?[].concat(g.fullFields,[B]):[B]})}function E(B){B===void 0&&(B=[]);var A=Array.isArray(B)?B:[B];!l.suppressWarning&&A.length&&t.warning("async-validator:",A),A.length&&g.message!==void 0&&(A=[].concat(g.message));var P=A.map(sn(g,a));if(l.first&&P.length)return y[g.field]=1,d(P);if(!S)d(P);else{if(g.required&&!p.value)return g.message!==void 0?P=[].concat(g.message).map(sn(g,a)):l.error&&(P=[l.error(g,se(l.messages.required,g.field))]),d(P);var _={};g.defaultField&&Object.keys(p.value).map(function(I){_[I]=g.defaultField}),_=_e({},_,p.rule.fields);var W={};Object.keys(_).forEach(function(I){var q=_[I],b=Array.isArray(q)?q:[q];W[I]=b.map(v.bind(null,I))});var $=new t(W);$.messages(l.messages),p.rule.options&&(p.rule.options.messages=l.messages,p.rule.options.error=l.error),$.validate(p.value,p.rule.options||l,function(I){var q=[];P&&P.length&&q.push.apply(q,P),I&&I.length&&q.push.apply(q,I),d(q.length?q:null)})}}var R;if(g.asyncValidator)R=g.asyncValidator(g,p.value,E,p.source,l);else if(g.validator){try{R=g.validator(g,p.value,E,p.source,l)}catch(B){console.error==null||console.error(B),l.suppressValidatorError||setTimeout(function(){throw B},0),E(B.message)}R===!0?E():R===!1?E(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):R instanceof Array?E(R):R instanceof Error&&E(R.message)}R&&R.then&&R.then(function(){return E()},function(B){return E(B)})},function(p){c(p)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Me.hasOwnProperty(r.type))throw new Error(se("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?Me.required:Me[this.getType(r)]||void 0},t}();Ge.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Me[e]=n};Ge.warning=Ar;Ge.messages=$t;Ge.validators=Me;function Qr(t){const e=We(Ye,null);return{mergedSize:G(()=>t.size!==void 0?t.size:(e==null?void 0:e.props.size)!==void 0?e.props.size:"medium")}}function Xr(t){const e=We(Ye,null),n=G(()=>{const{labelPlacement:m}=t;return m!==void 0?m:e!=null&&e.props.labelPlacement?e.props.labelPlacement:"top"}),r=G(()=>n.value==="left"&&(t.labelWidth==="auto"||(e==null?void 0:e.props.labelWidth)==="auto")),i=G(()=>{if(n.value==="top")return;const{labelWidth:m}=t;if(m!==void 0&&m!=="auto")return bt(m);if(r.value){const y=e==null?void 0:e.maxChildLabelWidthRef.value;return y!==void 0?bt(y):void 0}if((e==null?void 0:e.props.labelWidth)!==void 0)return bt(e.props.labelWidth)}),o=G(()=>{const{labelAlign:m}=t;if(m)return m;if(e!=null&&e.props.labelAlign)return e.props.labelAlign}),s=G(()=>{var m;return[(m=t.labelProps)===null||m===void 0?void 0:m.style,t.labelStyle,{width:i.value}]}),a=G(()=>{const{showRequireMark:m}=t;return m!==void 0?m:e==null?void 0:e.props.showRequireMark}),l=G(()=>{const{requireMarkPlacement:m}=t;return m!==void 0?m:(e==null?void 0:e.props.requireMarkPlacement)||"right"}),f=Ae(!1),c=G(()=>{const{validationStatus:m}=t;if(m!==void 0)return m;if(f.value)return"error"}),u=G(()=>{const{showFeedback:m}=t;return m!==void 0?m:(e==null?void 0:e.props.showFeedback)!==void 0?e.props.showFeedback:!0}),h=G(()=>{const{showLabel:m}=t;return m!==void 0?m:(e==null?void 0:e.props.showLabel)!==void 0?e.props.showLabel:!0});return{validationErrored:f,mergedLabelStyle:s,mergedLabelPlacement:n,mergedLabelAlign:o,mergedShowRequireMark:a,mergedRequireMarkPlacement:l,mergedValidationStatus:c,mergedShowFeedback:u,mergedShowLabel:h,isAutoLabelWidth:r}}function ei(t){const e=We(Ye,null),n=G(()=>{const{rulePath:s}=t;if(s!==void 0)return s;const{path:a}=t;if(a!==void 0)return a}),r=G(()=>{const s=[],{rule:a}=t;if(a!==void 0&&(Array.isArray(a)?s.push(...a):s.push(a)),e){const{rules:l}=e.props,{value:f}=n;if(l!==void 0&&f!==void 0){const c=_n(l,f);c!==void 0&&(Array.isArray(c)?s.push(...c):s.push(c))}}return s}),i=G(()=>r.value.some(s=>s.required)),o=G(()=>i.value||t.required);return{mergedRules:r,mergedRequired:o}}const{cubicBezierEaseInOut:fn}=Xn;function ti({name:t="fade-down",fromOffset:e="-4px",enterDuration:n=".3s",leaveDuration:r=".3s",enterCubicBezier:i=fn,leaveCubicBezier:o=fn}={}){return[Fe(`&.${t}-transition-enter-from, &.${t}-transition-leave-to`,{opacity:0,transform:`translateY(${e})`}),Fe(`&.${t}-transition-enter-to, &.${t}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),Fe(`&.${t}-transition-leave-active`,{transition:`opacity ${r} ${o}, transform ${r} ${o}`}),Fe(`&.${t}-transition-enter-active`,{transition:`opacity ${n} ${i}, transform ${n} ${i}`})]}const ni=ue("form-item",`
 display: grid;
 line-height: var(--n-line-height);
`,[ue("form-item-label",`
 grid-area: label;
 align-items: center;
 line-height: 1.25;
 text-align: var(--n-label-text-align);
 font-size: var(--n-label-font-size);
 min-height: var(--n-label-height);
 padding: var(--n-label-padding);
 color: var(--n-label-text-color);
 transition: color .3s var(--n-bezier);
 box-sizing: border-box;
 font-weight: var(--n-label-font-weight);
 `,[et("asterisk",`
 white-space: nowrap;
 user-select: none;
 -webkit-user-select: none;
 color: var(--n-asterisk-color);
 transition: color .3s var(--n-bezier);
 `),et("asterisk-placeholder",`
 grid-area: mark;
 user-select: none;
 -webkit-user-select: none;
 visibility: hidden; 
 `)]),ue("form-item-blank",`
 grid-area: blank;
 min-height: var(--n-blank-height);
 `),ce("auto-label-width",[ue("form-item-label","white-space: nowrap;")]),ce("left-labelled",`
 grid-template-areas:
 "label blank"
 "label feedback";
 grid-template-columns: auto minmax(0, 1fr);
 grid-template-rows: auto 1fr;
 align-items: start;
 `,[ue("form-item-label",`
 display: grid;
 grid-template-columns: 1fr auto;
 min-height: var(--n-blank-height);
 height: auto;
 box-sizing: border-box;
 flex-shrink: 0;
 flex-grow: 0;
 `,[ce("reverse-columns-space",`
 grid-template-columns: auto 1fr;
 `),ce("left-mark",`
 grid-template-areas:
 "mark text"
 ". text";
 `),ce("right-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),ce("right-hanging-mark",`
 grid-template-areas: 
 "text mark"
 "text .";
 `),et("text",`
 grid-area: text; 
 `),et("asterisk",`
 grid-area: mark; 
 align-self: end;
 `)])]),ce("top-labelled",`
 grid-template-areas:
 "label"
 "blank"
 "feedback";
 grid-template-rows: minmax(var(--n-label-height), auto) 1fr;
 grid-template-columns: minmax(0, 100%);
 `,[ce("no-label",`
 grid-template-areas:
 "blank"
 "feedback";
 grid-template-rows: 1fr;
 `),ue("form-item-label",`
 display: flex;
 align-items: flex-start;
 justify-content: var(--n-label-text-align);
 `)]),ue("form-item-blank",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 position: relative;
 `),ue("form-item-feedback-wrapper",`
 grid-area: feedback;
 box-sizing: border-box;
 min-height: var(--n-feedback-height);
 font-size: var(--n-feedback-font-size);
 line-height: 1.25;
 transform-origin: top left;
 `,[Fe("&:not(:empty)",`
 padding: var(--n-feedback-padding);
 `),ue("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[ce("warning",{color:"var(--n-feedback-text-color-warning)"}),ce("error",{color:"var(--n-feedback-text-color-error)"}),ti({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var cn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{f(r.next(c))}catch(u){s(u)}}function l(c){try{f(r.throw(c))}catch(u){s(u)}}function f(c){c.done?o(c.value):i(c.value).then(a,l)}f((r=r.apply(t,e||[])).next())})};const ri=Object.assign(Object.assign({},gt.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,showLabel:{type:Boolean,default:void 0},labelProps:Object});function un(t,e){return(...n)=>{try{const r=t(...n);return!e&&(typeof r=="boolean"||r instanceof Error||Array.isArray(r))||r!=null&&r.then?r:(r===void 0||tn("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use `+(e?"`Promise`":"`boolean`, `Error` or `Promise`")+" typed value instead."),!0)}catch(r){tn("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation."),console.error(r);return}}}const xt=Ft({name:"FormItem",props:ri,setup(t){mr(On,"formItems",tt(t,"path"));const{mergedClsPrefixRef:e,inlineThemeDisabled:n}=qn(t),r=We(Ye,null),i=Qr(t),o=Xr(t),{validationErrored:s}=o,{mergedRequired:a,mergedRules:l}=ei(t),{mergedSize:f}=i,{mergedLabelPlacement:c,mergedLabelAlign:u,mergedRequireMarkPlacement:h}=o,m=Ae([]),y=Ae(en()),p=r?tt(r.props,"disabled"):Ae(!1),d=gt("Form","-form-item",ni,Rn,t,e);Bn(tt(t,"path"),()=>{t.ignorePathChange||g()});function g(){m.value=[],s.value=!1,t.feedback&&(y.value=en())}function S(){A("blur")}function v(){A("change")}function E(){A("focus")}function R(){A("input")}function B(q,b){return cn(this,void 0,void 0,function*(){let w,x,O,L;return typeof q=="string"?(w=q,x=b):q!==null&&typeof q=="object"&&(w=q.trigger,x=q.callback,O=q.shouldRuleBeApplied,L=q.options),yield new Promise((T,V)=>{A(w,O,L).then(({valid:U,errors:Q})=>{U?(x&&x(),T()):(x&&x(Q),V(Q))})})})}const A=(q=null,b=()=>!0,w={suppressWarning:!0})=>cn(this,void 0,void 0,function*(){const{path:x}=t;w?w.first||(w.first=t.first):w={};const{value:O}=l,L=r?_n(r.props.model,x||""):void 0,T={},V={},U=(q?O.filter(ee=>Array.isArray(ee.trigger)?ee.trigger.includes(q):ee.trigger===q):O).filter(b).map((ee,Z)=>{const C=Object.assign({},ee);if(C.validator&&(C.validator=un(C.validator,!1)),C.asyncValidator&&(C.asyncValidator=un(C.asyncValidator,!0)),C.renderMessage){const H=`__renderMessage__${Z}`;V[H]=C.message,C.message=H,T[H]=C.renderMessage}return C});if(!U.length)return{valid:!0};const Q=x??"__n_no_path__",X=new Ge({[Q]:U}),{validateMessages:ie}=(r==null?void 0:r.props)||{};return ie&&X.messages(ie),yield new Promise(ee=>{X.validate({[Q]:L},w,Z=>{Z!=null&&Z.length?(m.value=Z.map(C=>{const H=(C==null?void 0:C.message)||"";return{key:H,render:()=>H.startsWith("__renderMessage__")?T[H]():H}}),Z.forEach(C=>{var H;!((H=C.message)===null||H===void 0)&&H.startsWith("__renderMessage__")&&(C.message=V[C.message])}),s.value=!0,ee({valid:!1,errors:Z})):(g(),ee({valid:!0}))})})});Rt(er,{path:tt(t,"path"),disabled:p,mergedSize:i.mergedSize,mergedValidationStatus:o.mergedValidationStatus,restoreValidation:g,handleContentBlur:S,handleContentChange:v,handleContentFocus:E,handleContentInput:R});const P={validate:B,restoreValidation:g,internalValidate:A},_=Ae(null);tr(()=>{if(!o.isAutoLabelWidth.value)return;const q=_.value;if(q!==null){const b=q.style.whiteSpace;q.style.whiteSpace="nowrap",q.style.width="",r==null||r.deriveMaxChildLabelWidth(Number(getComputedStyle(q).width.slice(0,-2))),q.style.whiteSpace=b}});const W=G(()=>{var q;const{value:b}=f,{value:w}=c,x=w==="top"?"vertical":"horizontal",{common:{cubicBezierEaseInOut:O},self:{labelTextColor:L,asteriskColor:T,lineHeight:V,feedbackTextColor:U,feedbackTextColorWarning:Q,feedbackTextColorError:X,feedbackPadding:ie,labelFontWeight:ee,[xe("labelHeight",b)]:Z,[xe("blankHeight",b)]:C,[xe("feedbackFontSize",b)]:H,[xe("feedbackHeight",b)]:be,[xe("labelPadding",x)]:Xe,[xe("labelTextAlign",x)]:we,[xe(xe("labelFontSize",w),b)]:oe}}=d.value;let ge=(q=u.value)!==null&&q!==void 0?q:we;return w==="top"&&(ge=ge==="right"?"flex-end":"flex-start"),{"--n-bezier":O,"--n-line-height":V,"--n-blank-height":C,"--n-label-font-size":oe,"--n-label-text-align":ge,"--n-label-height":Z,"--n-label-padding":Xe,"--n-label-font-weight":ee,"--n-asterisk-color":T,"--n-label-text-color":L,"--n-feedback-padding":ie,"--n-feedback-font-size":H,"--n-feedback-height":be,"--n-feedback-text-color":U,"--n-feedback-text-color-warning":Q,"--n-feedback-text-color-error":X}}),$=n?nr("form-item",G(()=>{var q;return`${f.value[0]}${c.value[0]}${((q=u.value)===null||q===void 0?void 0:q[0])||""}`}),W,t):void 0,I=G(()=>c.value==="left"&&h.value==="left"&&u.value==="left");return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:_,mergedClsPrefix:e,mergedRequired:a,feedbackId:y,renderExplains:m,reverseColSpace:I},o),i),P),{cssVars:n?void 0:W,themeClass:$==null?void 0:$.themeClass,onRender:$==null?void 0:$.onRender})},render(){const{$slots:t,mergedClsPrefix:e,mergedShowLabel:n,mergedShowRequireMark:r,mergedRequireMarkPlacement:i,onRender:o}=this,s=r!==void 0?r:this.mergedRequired;o==null||o();const a=()=>{const l=this.$slots.label?this.$slots.label():this.label;if(!l)return null;const f=te("span",{class:`${e}-form-item-label__text`},l),c=s?te("span",{class:`${e}-form-item-label__asterisk`},i!=="left"?" *":"* "):i==="right-hanging"&&te("span",{class:`${e}-form-item-label__asterisk-placeholder`}," *"),{labelProps:u}=this;return te("label",Object.assign({},u,{class:[u==null?void 0:u.class,`${e}-form-item-label`,`${e}-form-item-label--${i}-mark`,this.reverseColSpace&&`${e}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),i==="left"?[c,f]:[f,c])};return te("div",{class:[`${e}-form-item`,this.themeClass,`${e}-form-item--${this.mergedSize}-size`,`${e}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${e}-form-item--auto-label-width`,!n&&`${e}-form-item--no-label`],style:this.cssVars},n&&a(),te("div",{class:[`${e}-form-item-blank`,this.mergedValidationStatus&&`${e}-form-item-blank--${this.mergedValidationStatus}`]},t),this.mergedShowFeedback?te("div",{key:this.feedbackId,class:`${e}-form-item-feedback-wrapper`},te(rr,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:l}=this;return ir(t.feedback,f=>{var c;const{feedback:u}=this,h=f||u?te("div",{key:"__feedback__",class:`${e}-form-item-feedback__line`},f||u):this.renderExplains.length?(c=this.renderExplains)===null||c===void 0?void 0:c.map(({key:m,render:y})=>te("div",{key:m,class:`${e}-form-item-feedback__line`},y())):null;return h?l==="warning"?te("div",{key:"controlled-warning",class:`${e}-form-item-feedback ${e}-form-item-feedback--warning`},h):l==="error"?te("div",{key:"controlled-error",class:`${e}-form-item-feedback ${e}-form-item-feedback--error`},h):l==="success"?te("div",{key:"controlled-success",class:`${e}-form-item-feedback ${e}-form-item-feedback--success`},h):te("div",{key:"controlled-default",class:`${e}-form-item-feedback`},h):null})}})):null)}});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nt=BigInt(0),mt=BigInt(1),ii=BigInt(2);function $e(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function Je(t){if(!$e(t))throw new Error("Uint8Array expected")}function He(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}const oi=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ve(t){Je(t);let e="";for(let n=0;n<t.length;n++)e+=oi[t[n]];return e}function M(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function N(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const me={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function dn(t){if(t>=me._0&&t<=me._9)return t-me._0;if(t>=me._A&&t<=me._F)return t-(me._A-10);if(t>=me._a&&t<=me._f)return t-(me._a-10)}function Ve(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const s=dn(t.charCodeAt(o)),a=dn(t.charCodeAt(o+1));if(s===void 0||a===void 0){const l=t[o]+t[o+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+o)}r[i]=s*16+a}return r}function Ie(t){return N(ve(t))}function Ht(t){return Je(t),N(ve(Uint8Array.from(t).reverse()))}function Le(t,e){return Ve(t.toString(16).padStart(e*2,"0"))}function Vt(t,e){return Le(t,e).reverse()}function si(t){return Ve(M(t))}function de(t,e,n){let r;if(typeof e=="string")try{r=Ve(e)}catch(o){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${o}`)}else if($e(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function ae(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];Je(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const o=t[r];n.set(o,i),i+=o.length}return n}function ai(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function li(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}const Et=t=>typeof t=="bigint"&&Nt<=t;function pt(t,e,n){return Et(t)&&Et(e)&&Et(n)&&e<=t&&t<n}function ke(t,e,n,r){if(!pt(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)}function kn(t){let e;for(e=0;t>Nt;t>>=mt,e+=1);return e}function fi(t,e){return t>>BigInt(e)&mt}function ci(t,e,n){return t|(n?mt:Nt)<<BigInt(e)}const Ut=t=>(ii<<BigInt(t-1))-mt,St=t=>new Uint8Array(t),hn=t=>Uint8Array.from(t);function $n(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=St(t),i=St(t),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...u)=>n(i,r,...u),l=(u=St())=>{i=a(hn([0]),u),r=a(),u.length!==0&&(i=a(hn([1]),u),r=a())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<e;){r=a();const m=r.slice();h.push(m),u+=r.length}return ae(...h)};return(u,h)=>{s(),l(u);let m;for(;!(m=h(f()));)l();return s(),m}}const ui={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||$e(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Qe(t,e,n={}){const r=(i,o,s)=>{const a=ui[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=t[i];if(!(s&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(e))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return t}const di=()=>{throw new Error("not implemented")};function Lt(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const o=t(n,...r);return e.set(n,o),o}}const hi=Object.freeze(Object.defineProperty({__proto__:null,aInRange:ke,abool:He,abytes:Je,bitGet:fi,bitLen:kn,bitMask:Ut,bitSet:ci,bytesToHex:ve,bytesToNumberBE:Ie,bytesToNumberLE:Ht,concatBytes:ae,createHmacDrbg:$n,ensureBytes:de,equalBytes:ai,hexToBytes:Ve,hexToNumber:N,inRange:pt,isBytes:$e,memoized:Lt,notImplemented:di,numberToBytesBE:Le,numberToBytesLE:Vt,numberToHexUnpadded:M,numberToVarBytesBE:si,utf8ToBytes:li,validateObject:Qe},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J=BigInt(0),z=BigInt(1),Re=BigInt(2),gi=BigInt(3),Tt=BigInt(4),gn=BigInt(5),mn=BigInt(8);BigInt(9);BigInt(16);function ne(t,e){const n=t%e;return n>=J?n:e+n}function mi(t,e,n){if(n<=J||e<J)throw new Error("Expected power/modulo > 0");if(n===z)return J;let r=z;for(;e>J;)e&z&&(r=r*t%n),t=t*t%n,e>>=z;return r}function Ct(t,e){if(t===J||e<=J)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ne(t,e),r=e,i=J,o=z;for(;n!==J;){const a=r/n,l=r%n,f=i-o*a;r=n,n=l,i=o,o=f}if(r!==z)throw new Error("invert: does not exist");return ne(i,e)}function pi(t){const e=(t-z)/Re;let n,r,i;for(n=t-z,r=0;n%Re===J;n/=Re,r++);for(i=Re;i<t&&mi(i,e,t)!==t-z;i++);if(r===1){const s=(t+z)/Tt;return function(l,f){const c=l.pow(f,s);if(!l.eql(l.sqr(c),f))throw new Error("Cannot find square root");return c}}const o=(n+z)/Re;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let f=r,c=a.pow(a.mul(a.ONE,i),n),u=a.pow(l,o),h=a.pow(l,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let m=1;for(let p=a.sqr(h);m<f&&!a.eql(p,a.ONE);m++)p=a.sqr(p);const y=a.pow(c,z<<BigInt(f-m-1));c=a.sqr(y),u=a.mul(u,y),h=a.mul(h,c),f=m}return u}}function yi(t){if(t%Tt===gi){const e=(t+z)/Tt;return function(r,i){const o=r.pow(i,e);if(!r.eql(r.sqr(o),i))throw new Error("Cannot find square root");return o}}if(t%mn===gn){const e=(t-gn)/mn;return function(r,i){const o=r.mul(i,Re),s=r.pow(o,e),a=r.mul(i,s),l=r.mul(r.mul(a,Re),s),f=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(f),i))throw new Error("Cannot find square root");return f}}return pi(t)}const vi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bi(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=vi.reduce((r,i)=>(r[i]="function",r),e);return Qe(t,n)}function wi(t,e,n){if(n<J)throw new Error("Expected power > 0");if(n===J)return t.ONE;if(n===z)return e;let r=t.ONE,i=e;for(;n>J;)n&z&&(r=t.mul(r,i)),i=t.sqr(i),n>>=z;return r}function xi(t,e){const n=new Array(e.length),r=e.reduce((o,s,a)=>t.is0(s)?o:(n[a]=o,t.mul(o,s)),t.ONE),i=t.inv(r);return e.reduceRight((o,s,a)=>t.is0(s)?o:(n[a]=t.mul(o,n[a]),t.mul(o,s)),i),n}function Ln(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function zt(t,e,n=!1,r={}){if(t<=J)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:o}=Ln(t,e);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=yi(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:o,MASK:Ut(i),ZERO:J,ONE:z,create:l=>ne(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return J<=l&&l<t},is0:l=>l===J,isOdd:l=>(l&z)===z,neg:l=>ne(-l,t),eql:(l,f)=>l===f,sqr:l=>ne(l*l,t),add:(l,f)=>ne(l+f,t),sub:(l,f)=>ne(l-f,t),mul:(l,f)=>ne(l*f,t),pow:(l,f)=>wi(a,l,f),div:(l,f)=>ne(l*Ct(f,t),t),sqrN:l=>l*l,addN:(l,f)=>l+f,subN:(l,f)=>l-f,mulN:(l,f)=>l*f,inv:l=>Ct(l,t),sqrt:r.sqrt||(l=>s(a,l)),invertBatch:l=>xi(a,l),cmov:(l,f,c)=>c?f:l,toBytes:l=>n?Vt(l,o):Le(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return n?Ht(l):Ie(l)}});return Object.freeze(a)}function Tn(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Cn(t){const e=Tn(t);return e+Math.ceil(e/2)}function Ei(t,e,n=!1){const r=t.length,i=Tn(e),o=Cn(e);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=n?Ie(t):Ht(t),a=ne(s,e-z)+z;return n?Vt(a,i):Le(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Si=BigInt(0),At=BigInt(1),Bt=new WeakMap,pn=new WeakMap;function Ai(t,e){const n=(o,s)=>{const a=s.negate();return o?a:s},r=o=>{if(!Number.isSafeInteger(o)||o<=0||o>e)throw new Error(`Wrong window size=${o}, should be [1..${e}]`)},i=o=>{r(o);const s=Math.ceil(e/o)+1,a=2**(o-1);return{windows:s,windowSize:a}};return{constTimeNegate:n,unsafeLadder(o,s){let a=t.ZERO,l=o;for(;s>Si;)s&At&&(a=a.add(l)),l=l.double(),s>>=At;return a},precomputeWindow(o,s){const{windows:a,windowSize:l}=i(s),f=[];let c=o,u=c;for(let h=0;h<a;h++){u=c,f.push(u);for(let m=1;m<l;m++)u=u.add(c),f.push(u);c=u.double()}return f},wNAF(o,s,a){const{windows:l,windowSize:f}=i(o);let c=t.ZERO,u=t.BASE;const h=BigInt(2**o-1),m=2**o,y=BigInt(o);for(let p=0;p<l;p++){const d=p*f;let g=Number(a&h);a>>=y,g>f&&(g-=m,a+=At);const S=d,v=d+Math.abs(g)-1,E=p%2!==0,R=g<0;g===0?u=u.add(n(E,s[S])):c=c.add(n(R,s[v]))}return{p:c,f:u}},wNAFCached(o,s,a){const l=pn.get(o)||1;let f=Bt.get(o);return f||(f=this.precomputeWindow(o,l),l!==1&&Bt.set(o,a(f))),this.wNAF(l,f,s)},setWindowSize(o,s){r(s),pn.set(o,s),Bt.delete(o)}}}function Bi(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((c,u)=>{if(!e.isValid(c))throw new Error(`wrong scalar at index ${u}`)}),n.forEach((c,u)=>{if(!(c instanceof t))throw new Error(`wrong point at index ${u}`)});const i=kn(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(t.ZERO),l=Math.floor((e.BITS-1)/o)*o;let f=t.ZERO;for(let c=l;c>=0;c-=o){a.fill(t.ZERO);for(let h=0;h<r.length;h++){const m=r[h],y=Number(m>>BigInt(c)&BigInt(s));a[y]=a[y].add(n[h])}let u=t.ZERO;for(let h=a.length-1,m=t.ZERO;h>0;h--)m=m.add(a[h]),u=u.add(m);if(f=f.add(u),c!==0)for(let h=0;h<o;h++)f=f.double()}return f}function jn(t){return bi(t.Fp),Qe(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ln(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yn(t){t.lowS!==void 0&&He("lowS",t.lowS),t.prehash!==void 0&&He("prehash",t.prehash)}function Pi(t){const e=jn(t);Qe(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:qi,hexToBytes:Ri}=hi,pe={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:n}=pe;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=M(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?M(i.length/2|128):"";return`${M(t)}${o}${i}${e}`},decode(t,e){const{Err:n}=pe;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const f=e.subarray(r,r+l);if(f.length!==l)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const c of f)s=s<<8|c;if(r+=l,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+s)}}},_int:{encode(t){const{Err:e}=pe;if(t<ye)throw new e("integer: negative integers are not allowed");let n=M(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected assertion");return n},decode(t){const{Err:e}=pe;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return qi(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=pe,i=typeof t=="string"?Ri(t):t;Je(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,o),{v:f,l:c}=r.decode(2,l);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(f)}},hexFromSig(t){const{_tlv:e,_int:n}=pe,r=`${e.encode(2,n.encode(t.r))}${e.encode(2,n.encode(t.s))}`;return e.encode(48,r)}},ye=BigInt(0),Y=BigInt(1);BigInt(2);const vn=BigInt(3);BigInt(4);function _i(t){const e=Pi(t),{Fp:n}=e,r=zt(e.n,e.nBitLength),i=e.toBytes||((p,d,g)=>{const S=d.toAffine();return ae(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),o=e.fromBytes||(p=>{const d=p.subarray(1),g=n.fromBytes(d.subarray(0,n.BYTES)),S=n.fromBytes(d.subarray(n.BYTES,2*n.BYTES));return{x:g,y:S}});function s(p){const{a:d,b:g}=e,S=n.sqr(p),v=n.mul(S,p);return n.add(n.add(v,n.mul(p,d)),g)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(p){return pt(p,Y,e.n)}function l(p){const{allowedPrivateKeyLengths:d,nByteLength:g,wrapPrivateKey:S,n:v}=e;if(d&&typeof p!="bigint"){if($e(p)&&(p=ve(p)),typeof p!="string"||!d.includes(p.length))throw new Error("Invalid key");p=p.padStart(g*2,"0")}let E;try{E=typeof p=="bigint"?p:Ie(de("private key",p,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof p}`)}return S&&(E=ne(E,v)),ke("private key",E,Y,v),E}function f(p){if(!(p instanceof h))throw new Error("ProjectivePoint expected")}const c=Lt((p,d)=>{const{px:g,py:S,pz:v}=p;if(n.eql(v,n.ONE))return{x:g,y:S};const E=p.is0();d==null&&(d=E?n.ONE:n.inv(v));const R=n.mul(g,d),B=n.mul(S,d),A=n.mul(v,d);if(E)return{x:n.ZERO,y:n.ZERO};if(!n.eql(A,n.ONE))throw new Error("invZ was invalid");return{x:R,y:B}}),u=Lt(p=>{if(p.is0()){if(e.allowInfinityPoint&&!n.is0(p.py))return;throw new Error("bad point: ZERO")}const{x:d,y:g}=p.toAffine();if(!n.isValid(d)||!n.isValid(g))throw new Error("bad point: x or y not FE");const S=n.sqr(g),v=s(d);if(!n.eql(S,v))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(d,g,S){if(this.px=d,this.py=g,this.pz=S,d==null||!n.isValid(d))throw new Error("x required");if(g==null||!n.isValid(g))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");Object.freeze(this)}static fromAffine(d){const{x:g,y:S}=d||{};if(!d||!n.isValid(g)||!n.isValid(S))throw new Error("invalid affine point");if(d instanceof h)throw new Error("projective point not allowed");const v=E=>n.eql(E,n.ZERO);return v(g)&&v(S)?h.ZERO:new h(g,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(d){const g=n.invertBatch(d.map(S=>S.pz));return d.map((S,v)=>S.toAffine(g[v])).map(h.fromAffine)}static fromHex(d){const g=h.fromAffine(o(de("pointHex",d)));return g.assertValidity(),g}static fromPrivateKey(d){return h.BASE.multiply(l(d))}static msm(d,g){return Bi(h,r,d,g)}_setWindowSize(d){y.setWindowSize(this,d)}assertValidity(){u(this)}hasEvenY(){const{y:d}=this.toAffine();if(n.isOdd)return!n.isOdd(d);throw new Error("Field doesn't support isOdd")}equals(d){f(d);const{px:g,py:S,pz:v}=this,{px:E,py:R,pz:B}=d,A=n.eql(n.mul(g,B),n.mul(E,v)),P=n.eql(n.mul(S,B),n.mul(R,v));return A&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:d,b:g}=e,S=n.mul(g,vn),{px:v,py:E,pz:R}=this;let B=n.ZERO,A=n.ZERO,P=n.ZERO,_=n.mul(v,v),W=n.mul(E,E),$=n.mul(R,R),I=n.mul(v,E);return I=n.add(I,I),P=n.mul(v,R),P=n.add(P,P),B=n.mul(d,P),A=n.mul(S,$),A=n.add(B,A),B=n.sub(W,A),A=n.add(W,A),A=n.mul(B,A),B=n.mul(I,B),P=n.mul(S,P),$=n.mul(d,$),I=n.sub(_,$),I=n.mul(d,I),I=n.add(I,P),P=n.add(_,_),_=n.add(P,_),_=n.add(_,$),_=n.mul(_,I),A=n.add(A,_),$=n.mul(E,R),$=n.add($,$),_=n.mul($,I),B=n.sub(B,_),P=n.mul($,W),P=n.add(P,P),P=n.add(P,P),new h(B,A,P)}add(d){f(d);const{px:g,py:S,pz:v}=this,{px:E,py:R,pz:B}=d;let A=n.ZERO,P=n.ZERO,_=n.ZERO;const W=e.a,$=n.mul(e.b,vn);let I=n.mul(g,E),q=n.mul(S,R),b=n.mul(v,B),w=n.add(g,S),x=n.add(E,R);w=n.mul(w,x),x=n.add(I,q),w=n.sub(w,x),x=n.add(g,v);let O=n.add(E,B);return x=n.mul(x,O),O=n.add(I,b),x=n.sub(x,O),O=n.add(S,v),A=n.add(R,B),O=n.mul(O,A),A=n.add(q,b),O=n.sub(O,A),_=n.mul(W,x),A=n.mul($,b),_=n.add(A,_),A=n.sub(q,_),_=n.add(q,_),P=n.mul(A,_),q=n.add(I,I),q=n.add(q,I),b=n.mul(W,b),x=n.mul($,x),q=n.add(q,b),b=n.sub(I,b),b=n.mul(W,b),x=n.add(x,b),I=n.mul(q,x),P=n.add(P,I),I=n.mul(O,x),A=n.mul(w,A),A=n.sub(A,I),I=n.mul(w,q),_=n.mul(O,_),_=n.add(_,I),new h(A,P,_)}subtract(d){return this.add(d.negate())}is0(){return this.equals(h.ZERO)}wNAF(d){return y.wNAFCached(this,d,h.normalizeZ)}multiplyUnsafe(d){ke("scalar",d,ye,e.n);const g=h.ZERO;if(d===ye)return g;if(d===Y)return this;const{endo:S}=e;if(!S)return y.unsafeLadder(this,d);let{k1neg:v,k1:E,k2neg:R,k2:B}=S.splitScalar(d),A=g,P=g,_=this;for(;E>ye||B>ye;)E&Y&&(A=A.add(_)),B&Y&&(P=P.add(_)),_=_.double(),E>>=Y,B>>=Y;return v&&(A=A.negate()),R&&(P=P.negate()),P=new h(n.mul(P.px,S.beta),P.py,P.pz),A.add(P)}multiply(d){const{endo:g,n:S}=e;ke("scalar",d,Y,S);let v,E;if(g){const{k1neg:R,k1:B,k2neg:A,k2:P}=g.splitScalar(d);let{p:_,f:W}=this.wNAF(B),{p:$,f:I}=this.wNAF(P);_=y.constTimeNegate(R,_),$=y.constTimeNegate(A,$),$=new h(n.mul($.px,g.beta),$.py,$.pz),v=_.add($),E=W.add(I)}else{const{p:R,f:B}=this.wNAF(d);v=R,E=B}return h.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(d,g,S){const v=h.BASE,E=(B,A)=>A===ye||A===Y||!B.equals(v)?B.multiplyUnsafe(A):B.multiply(A),R=E(this,g).add(E(d,S));return R.is0()?void 0:R}toAffine(d){return c(this,d)}isTorsionFree(){const{h:d,isTorsionFree:g}=e;if(d===Y)return!0;if(g)return g(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:d,clearCofactor:g}=e;return d===Y?this:g?g(h,this):this.multiplyUnsafe(e.h)}toRawBytes(d=!0){return He("isCompressed",d),this.assertValidity(),i(h,this,d)}toHex(d=!0){return He("isCompressed",d),ve(this.toRawBytes(d))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,y=Ai(h,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function Oi(t){const e=jn(t);return Qe(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ii(t){const e=Oi(t),{Fp:n,n:r}=e,i=n.BYTES+1,o=2*n.BYTES+1;function s(b){return ne(b,r)}function a(b){return Ct(b,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:c,isWithinCurveOrder:u}=_i({...e,toBytes(b,w,x){const O=w.toAffine(),L=n.toBytes(O.x),T=ae;return He("isCompressed",x),x?T(Uint8Array.from([w.hasEvenY()?2:3]),L):T(Uint8Array.from([4]),L,n.toBytes(O.y))},fromBytes(b){const w=b.length,x=b[0],O=b.subarray(1);if(w===i&&(x===2||x===3)){const L=Ie(O);if(!pt(L,Y,n.ORDER))throw new Error("Point is not on curve");const T=c(L);let V;try{V=n.sqrt(T)}catch(X){const ie=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+ie)}const U=(V&Y)===Y;return(x&1)===1!==U&&(V=n.neg(V)),{x:L,y:V}}else if(w===o&&x===4){const L=n.fromBytes(O.subarray(0,n.BYTES)),T=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:L,y:T}}else throw new Error(`Point of length ${w} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),h=b=>ve(Le(b,e.nByteLength));function m(b){const w=r>>Y;return b>w}function y(b){return m(b)?s(-b):b}const p=(b,w,x)=>Ie(b.slice(w,x));class d{constructor(w,x,O){this.r=w,this.s=x,this.recovery=O,this.assertValidity()}static fromCompact(w){const x=e.nByteLength;return w=de("compactSignature",w,x*2),new d(p(w,0,x),p(w,x,2*x))}static fromDER(w){const{r:x,s:O}=pe.toSig(de("DER",w));return new d(x,O)}assertValidity(){ke("r",this.r,Y,r),ke("s",this.s,Y,r)}addRecoveryBit(w){return new d(this.r,this.s,w)}recoverPublicKey(w){const{r:x,s:O,recovery:L}=this,T=B(de("msgHash",w));if(L==null||![0,1,2,3].includes(L))throw new Error("recovery id invalid");const V=L===2||L===3?x+e.n:x;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=L&1?"03":"02",Q=l.fromHex(U+h(V)),X=a(V),ie=s(-T*X),ee=s(O*X),Z=l.BASE.multiplyAndAddUnsafe(Q,ie,ee);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new d(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Ve(this.toDERHex())}toDERHex(){return pe.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ve(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(b){try{return f(b),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const b=Cn(e.n);return Ei(e.randomBytes(b),e.n)},precompute(b=8,w=l.BASE){return w._setWindowSize(b),w.multiply(BigInt(3)),w}};function S(b,w=!0){return l.fromPrivateKey(b).toRawBytes(w)}function v(b){const w=$e(b),x=typeof b=="string",O=(w||x)&&b.length;return w?O===i||O===o:x?O===2*i||O===2*o:b instanceof l}function E(b,w,x=!0){if(v(b))throw new Error("first arg must be private key");if(!v(w))throw new Error("second arg must be public key");return l.fromHex(w).multiply(f(b)).toRawBytes(x)}const R=e.bits2int||function(b){const w=Ie(b),x=b.length*8-e.nBitLength;return x>0?w>>BigInt(x):w},B=e.bits2int_modN||function(b){return s(R(b))},A=Ut(e.nBitLength);function P(b){return ke(`num < 2^${e.nBitLength}`,b,ye,A),Le(b,e.nByteLength)}function _(b,w,x=W){if(["recovered","canonical"].some(H=>H in x))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:L}=e;let{lowS:T,prehash:V,extraEntropy:U}=x;T==null&&(T=!0),b=de("msgHash",b),yn(x),V&&(b=de("prehashed msgHash",O(b)));const Q=B(b),X=f(w),ie=[P(X),P(Q)];if(U!=null&&U!==!1){const H=U===!0?L(n.BYTES):U;ie.push(de("extraEntropy",H))}const ee=ae(...ie),Z=Q;function C(H){const be=R(H);if(!u(be))return;const Xe=a(be),we=l.BASE.multiply(be).toAffine(),oe=s(we.x);if(oe===ye)return;const ge=s(Xe*s(Z+oe*X));if(ge===ye)return;let vt=(we.x===oe?0:2)|Number(we.y&Y),Qt=ge;return T&&m(ge)&&(Qt=y(ge),vt^=1),new d(oe,Qt,vt)}return{seed:ee,k2sig:C}}const W={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function I(b,w,x=W){const{seed:O,k2sig:L}=_(b,w,x),T=e;return $n(T.hash.outputLen,T.nByteLength,T.hmac)(O,L)}l.BASE._setWindowSize(8);function q(b,w,x,O=$){var we;const L=b;if(w=de("msgHash",w),x=de("publicKey",x),"strict"in O)throw new Error("options.strict was renamed to lowS");yn(O);const{lowS:T,prehash:V}=O;let U,Q;try{if(typeof L=="string"||$e(L))try{U=d.fromDER(L)}catch(oe){if(!(oe instanceof pe.Err))throw oe;U=d.fromCompact(L)}else if(typeof L=="object"&&typeof L.r=="bigint"&&typeof L.s=="bigint"){const{r:oe,s:ge}=L;U=new d(oe,ge)}else throw new Error("PARSE");Q=l.fromHex(x)}catch(oe){if(oe.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&U.hasHighS())return!1;V&&(w=e.hash(w));const{r:X,s:ie}=U,ee=B(w),Z=a(ie),C=s(ee*Z),H=s(X*Z),be=(we=l.BASE.multiplyAndAddUnsafe(Q,C,H))==null?void 0:we.toAffine();return be?s(be.x)===X:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:E,sign:I,verify:q,ProjectivePoint:l,Signature:d,utils:g}}var ki=Object.defineProperty,Fn=(t,e)=>{for(var n in e)ki(t,n,{get:e[n],enumerable:!0})},Nn={};Fn(Nn,{EmptyArray:()=>Yt,arrayToHex:()=>yt,arrayToUtf8:()=>Wt,calculateSharedKey:()=>io,comparePublicKeyHex:()=>no,compressPublicKeyHex:()=>eo,doDecrypt:()=>so,doEncrypt:()=>oo,doSignature:()=>ao,doVerifySignature:()=>lo,generateKeyPairHex:()=>Kt,getHash:()=>Gt,getPoint:()=>Wn,getPublicKeyFromPrivateKey:()=>Kn,getZ:()=>ht,hexToArray:()=>re,initRNGPool:()=>Zt,leftPad:()=>D,precomputePublicKey:()=>fo,utf8ToHex:()=>Ue,verifyPublicKey:()=>to});var ft=BigInt(0),Ke=BigInt(1),$i=BigInt(2);BigInt(3);function Li(t){let e=t.toString(16);if(e[0]!=="-")e.length%2===1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{e=e.substring(1);let n=e.length;n%2===1?n+=1:e.match(/^[0-7]/)||(n+=2);let r="";for(let s=0;s<n;s++)r+="f";e=((N(r)^t)+Ke).toString(16).replace(/^-/,"")}return e}var Mt=class{constructor(t=null,e="00",n="00",r=""){this.tlv=t,this.t=e,this.l=n,this.v=r}getEncodedHex(){return this.tlv||(this.v=this.getValue(),this.l=this.getLength(),this.tlv=this.t+this.l+this.v),this.tlv}getLength(){const t=this.v.length/2;let e=t.toString(16);return e.length%2===1&&(e="0"+e),t<128?e:(128+e.length/2).toString(16)+e}getValue(){return""}},ct=class extends Mt{constructor(t){super(),this.t="02",t&&(this.v=Li(t))}getValue(){return this.v}},bn=class extends Mt{constructor(e){super();F(this,"hV","");this.s=e,this.t="04",e&&(this.v=e.toLowerCase())}getValue(){return this.v}},Hn=class extends Mt{constructor(e){super();F(this,"t","30");this.asn1Array=e}getValue(){return this.v=this.asn1Array.map(e=>e.getEncodedHex()).join(""),this.v}};function Vn(t,e){if(+t[e+2]<8)return 1;const r=t.slice(e+2,e+6).slice(0,2);return(parseInt(r,16)-128)*2}function jt(t,e){const n=Vn(t,e),r=t.substring(e+2,e+2+n*2);return r?+(+r[0]<8?N(r):N(r.substring(2))).toString():-1}function Ze(t,e){const n=Vn(t,e);return e+(n+1)*2}function Ti(t,e){const n=new ct(t),r=new ct(e);return new Hn([n,r]).getEncodedHex()}function wn(t,e,n,r){const i=new ct(t),o=new ct(e),s=new bn(n),a=new bn(r);return new Hn([i,o,s,a]).getEncodedHex()}function Ci(t){const e=Ze(t,0),n=Ze(t,e),r=jt(t,e),i=t.substring(n,n+r*2),o=n+i.length,s=Ze(t,o),a=jt(t,o),l=t.substring(s,s+a*2),f=N(i),c=N(l);return{r:f,s:c}}function ji(t){function e(h,m){const y=Ze(h,m),p=jt(h,m),d=h.substring(y,y+p*2),g=y+d.length;return{value:d,nextStart:g}}const n=Ze(t,0),{value:r,nextStart:i}=e(t,n),{value:o,nextStart:s}=e(t,i),{value:a,nextStart:l}=e(t,s),{value:f}=e(t,l),c=N(r),u=N(o);return{x:c,y:u,hash:a,cipher:f}}var Pt=16384,Oe=new Uint8Array(0),Ne;async function Zt(){if("crypto"in globalThis){Ne=globalThis.crypto;return}if(!(Oe.length>Pt/2))if("wx"in globalThis&&"getRandomValues"in globalThis.wx)Oe=await new Promise(t=>{wx.getRandomValues({length:Pt,success(e){t(new Uint8Array(e.randomValues))}})});else try{globalThis.crypto?Ne=globalThis.crypto:Ne=(await or(()=>import("./index-def0b482.js").then(n=>n.bJ),["./index-def0b482.js","./index-3c2ee841.css"],import.meta.url)).webcrypto;const t=new Uint8Array(Pt);Ne.getRandomValues(t),Oe=t}catch{throw new Error("no available csprng, abort.")}}Zt();function Fi(t){if(Oe.length>t){const e=Oe.slice(0,t);return Oe=Oe.slice(t),Zt(),e}else throw new Error("random number pool is not ready or insufficient, prevent getting too long random values or too often.")}function Ni(t=0){const e=new Uint8Array(t);return Ne?Ne.getRandomValues(e):Fi(t)}var Un=t=>t instanceof Uint8Array,qt=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Hi=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Hi)throw new Error("Non little-endian hardware is not supported");var Vi=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ut(t){if(!Un(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Vi[t[n]];return e}function Ui(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Dt(t){if(typeof t=="string"&&(t=Ui(t)),!Un(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var zn=class{clone(){return this._cloneInto()}};function zi(t){const e=r=>t().update(Dt(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}var Mi=(t,e,n)=>t&e|t&n|e&n,xn=(t,e,n)=>t^e^n,Zi=(t,e,n)=>t&e|~t&n;function Di(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,f=r?0:4;t.setUint32(e+l,s,r),t.setUint32(e+f,a,r)}function le(t,e){const n=e&31;return t<<n|t>>>32-n}function Ki(t){return t^le(t,9)^le(t,17)}function Wi(t){return t^le(t,15)^le(t,23)}var Yi=class extends zn{constructor(e,n,r,i){super();F(this,"buffer");F(this,"view");F(this,"finished",!1);F(this,"length",0);F(this,"pos",0);F(this,"destroyed",!1);this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=qt(this.buffer)}update(e){const{view:n,buffer:r,blockLen:i}=this;e=Dt(e);const o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=qt(e);for(;i<=o-s;s+=i)this.process(l,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:o}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(r,0),s=0);for(let u=s;u<i;u++)n[u]=0;Di(r,i-8,BigInt(this.length*8),o),this.process(r,0);const a=qt(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=l/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<f;u++)a.setUint32(4*u,c[u],o)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%n&&e.buffer.set(r),e}},Ee=new Uint32Array([1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214]),fe=new Uint32Array(68),En=new Uint32Array(64),Gi=2043430169,Ji=2055708042,Qi=class extends Yi{constructor(){super(64,32,8,!1);F(this,"A",Ee[0]|0);F(this,"B",Ee[1]|0);F(this,"C",Ee[2]|0);F(this,"D",Ee[3]|0);F(this,"E",Ee[4]|0);F(this,"F",Ee[5]|0);F(this,"G",Ee[6]|0);F(this,"H",Ee[7]|0)}get(){const{A:e,B:n,C:r,D:i,E:o,F:s,G:a,H:l}=this;return[e,n,r,i,o,s,a,l]}set(e,n,r,i,o,s,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(e,n){for(let u=0;u<16;u++,n+=4)fe[u]=e.getUint32(n,!1);for(let u=16;u<68;u++)fe[u]=Wi(fe[u-16]^fe[u-9]^le(fe[u-3],15))^le(fe[u-13],7)^fe[u-6];for(let u=0;u<64;u++)En[u]=fe[u]^fe[u+4];let{A:r,B:i,C:o,D:s,E:a,F:l,G:f,H:c}=this;for(let u=0;u<64;u++){let h=u>=0&&u<=15,m=h?Gi:Ji,y=le(le(r,12)+a+le(m,u),7),p=y^le(r,12),d=(h?xn(r,i,o):Mi(r,i,o))+s+p+En[u]|0,g=(h?xn(a,l,f):Zi(a,l,f))+c+y+fe[u]|0;s=o,o=le(i,9),i=r,r=d,c=f,f=le(l,19),l=a,a=Ki(g)}r=r^this.A|0,i=i^this.B|0,o=o^this.C|0,s=s^this.D|0,a=a^this.E|0,l=l^this.F|0,f=f^this.G|0,c=c^this.H|0,this.set(r,i,o,s,a,l,f,c)}roundClean(){fe.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Pe=zi(()=>new Qi),Mn=class extends zn{constructor(e,n){super();F(this,"oHash");F(this,"iHash");F(this,"blockLen");F(this,"outputLen");F(this,"finished",!1);F(this,"destroyed",!1);const r=Dt(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(r.length>i?e.create().update(r).digest():r);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(e){return this.iHash.update(e),this}digestInto(e){this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Zn=(t,e,n)=>new Mn(t,e).update(n).digest();Zn.create=(t,e)=>new Mn(t,e);var Xi=zt(BigInt("115792089210356248756420345214020892766250353991924191454421193933289684991999")),j=Ii({a:BigInt("115792089210356248756420345214020892766250353991924191454421193933289684991996"),b:BigInt("18505919022281880113072981827955639221458448578012075254857346196103069175443"),Fp:Xi,h:Ke,n:BigInt("115792089210356248756420345214020892766061623724957744567843809356293439045923"),Gx:BigInt("22963146547237050559479531362550074578802567295341616970375194840604139615431"),Gy:BigInt("85132369209828568825618990617112496413088388631904505083283536607588877201568"),hash:Pe,hmac:(t,...e)=>Zn(Pe,t,ae(...e)),randomBytes:Ni}),he=zt(BigInt(j.CURVE.n));function Kt(t){const e=t?Le(ne(BigInt(t),Ke)+Ke,32):j.utils.randomPrivateKey(),n=j.getPublicKey(e,!1),r=D(ve(e),64),i=D(ve(n),64);return{privateKey:r,publicKey:i}}function eo(t){if(t.length!==130)throw new Error("Invalid public key to compress");const e=(t.length-2)/2,n=t.substring(2,2+e),r=N(t.substring(e+2,e+e+2));let i="03";return ne(r,$i)===ft&&(i="02"),i+n}function Ue(t){t=decodeURIComponent(encodeURIComponent(t));const e=t.length,n=new Uint32Array((e>>>2)+1);for(let i=0;i<e;i++)n[i>>>2]|=(t.charCodeAt(i)&255)<<24-i%4*8;const r=[];for(let i=0;i<e;i++){const o=n[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((o&15).toString(16))}return r.join("")}function D(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t}function yt(t){return t.map(e=>{const n=e.toString(16);return n.length===1?"0"+n:n}).join("")}function Wt(t){const e=[];for(let n=0,r=t.length;n<r;n++)t[n]>=240&&t[n]<=247?(e.push(String.fromCodePoint(((t[n]&7)<<18)+((t[n+1]&63)<<12)+((t[n+2]&63)<<6)+(t[n+3]&63))),n+=3):t[n]>=224&&t[n]<=239?(e.push(String.fromCodePoint(((t[n]&15)<<12)+((t[n+1]&63)<<6)+(t[n+2]&63))),n+=2):t[n]>=192&&t[n]<=223?(e.push(String.fromCodePoint(((t[n]&31)<<6)+(t[n+1]&63))),n++):e.push(String.fromCodePoint(t[n]));return e.join("")}function re(t){let e=t.length;e%2!==0&&(t=D(t,e+1)),e=t.length;const n=e/2,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=parseInt(t.substring(i*2,i*2+2),16);return r}function to(t){const e=j.ProjectivePoint.fromHex(t);if(!e)return!1;try{return e.assertValidity(),!0}catch{return!1}}function no(t,e){const n=j.ProjectivePoint.fromHex(t);if(!n)return!1;const r=j.ProjectivePoint.fromHex(e);return r?n.equals(r):!1}var Sn=N("80000000000000000000000000000000"),An=N("7fffffffffffffffffffffffffffffff");function ro(t,e){let n=new Uint8Array(e),r=1,i=0,o=Yt;const s=new Uint8Array(4),a=()=>{s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,o=Pe(ae(t,s)),r++,i=0};a();for(let l=0,f=n.length;l<f;l++)i===o.length&&a(),n[l]=o[i++]&255;return n}function io(t,e,n,r,i,o=!1,s="1234567812345678",a="1234567812345678"){const l=j.ProjectivePoint.fromHex(e.publicKey),f=j.ProjectivePoint.fromHex(r),c=j.ProjectivePoint.fromHex(n);let u=ht(t.publicKey,s),h=ht(n,a);o&&([u,h]=[h,u]);const m=N(e.privateKey),y=N(t.privateKey),p=l.x,d=Sn+(p&An),g=he.add(y,he.mulN(d,m)),S=f.x,v=he.add(Sn,S&An),E=f.multiply(v).add(c).multiply(g),R=re(D(M(E.x),64)),B=re(D(M(E.y),64));return ro(ae(R,B,u,h),i)}var dt=0,Yt=new Uint8Array;function oo(t,e,n=1,r){const i=typeof t=="string"?re(Ue(t)):Uint8Array.from(t),o=typeof e=="string"?j.ProjectivePoint.fromHex(e):e,s=Kt(),a=N(s.privateKey);let l=s.publicKey;l.length>128&&(l=l.substring(l.length-128));const f=o.multiply(a),c=re(D(M(f.x),64)),u=re(D(M(f.y),64)),h=ut(Pe(ae(c,i,u)));Dn(c,u,i);const m=ut(i);if(r!=null&&r.asn1){const y=j.ProjectivePoint.fromHex(s.publicKey);return n===dt?wn(y.x,y.y,m,h):wn(y.x,y.y,h,m)}return n===dt?l+m+h:l+h+m}function Dn(t,e,n){let r=1,i=0,o=Yt;const s=new Uint8Array(4),a=()=>{s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,o=Pe(ae(t,e,s)),r++,i=0};a();for(let l=0,f=n.length;l<f;l++)i===o.length&&a(),n[l]^=o[i++]&255}function so(t,e,n=1,{output:r="string",asn1:i=!1}={}){const o=N(e);let s,a,l;if(i){const{x:y,y:p,cipher:d,hash:g}=ji(t);s=j.ProjectivePoint.fromAffine({x:y,y:p}),l=g,a=d,n===dt&&([a,l]=[l,a])}else s=j.ProjectivePoint.fromHex("04"+t.substring(0,128)),l=t.substring(128,128+64),a=t.substring(128+64),n===dt&&(l=t.substring(t.length-64),a=t.substring(128,t.length-64));const f=re(a),c=s.multiply(o),u=re(D(M(c.x),64)),h=re(D(M(c.y),64));return Dn(u,h,f),yt(Array.from(Pe(ae(u,f,h))))===l.toLowerCase()?r==="array"?f:Wt(f):r==="array"?[]:""}function ao(t,e,n={}){let{pointPool:r,der:i,hash:o,publicKey:s,userId:a}=n,l=typeof t=="string"?Ue(t):yt(Array.from(t));o&&(s=s||Kn(e),l=Gt(l,s,a));const f=N(e),c=N(l);let u=null,h=null,m=null;do{do{let y;r&&r.length?y=r.pop():y=Wn(),u=y.k,h=he.add(c,y.x1)}while(h===ft||h+u===j.CURVE.n);m=he.mul(he.inv(he.addN(f,Ke)),he.subN(u,he.mulN(h,f)))}while(m===ft);return i?Ti(h,m):D(M(h),64)+D(M(m),64)}function lo(t,e,n,r={}){let i;const{hash:o,der:s,userId:a}=r,l=typeof n=="string"?n:n.toHex(!1);o?i=Gt(typeof t=="string"?Ue(t):t,l,a):i=typeof t=="string"?Ue(t):yt(Array.from(t));let f,c;if(s){const d=Ci(e);f=d.r,c=d.s}else f=N(e.substring(0,64)),c=N(e.substring(64));const u=typeof n=="string"?j.ProjectivePoint.fromHex(n):n,h=N(i),m=he.add(f,c);if(m===ft)return!1;const y=j.ProjectivePoint.BASE.multiply(c).add(u.multiply(m)),p=he.add(h,y.x);return f===p}function ht(t,e="1234567812345678"){e=Ue(e);const n=D(M(j.CURVE.a),64),r=D(M(j.CURVE.b),64),i=D(M(j.ProjectivePoint.BASE.x),64),o=D(M(j.ProjectivePoint.BASE.y),64);let s,a;if(t.length===128)s=t.substring(0,64),a=t.substring(64,128);else{const u=j.ProjectivePoint.fromHex(t);s=D(M(u.x),64),a=D(M(u.y),64)}const l=re(e+n+r+i+o+s+a),f=e.length*4;return Pe(ae(new Uint8Array([f>>8&255,f&255]),l))}function Gt(t,e,n="1234567812345678"){const r=ht(e,n);return ut(Pe(ae(r,typeof t=="string"?re(t):t)))}function fo(t,e){const n=j.ProjectivePoint.fromHex(t);return j.utils.precompute(e,n)}function Kn(t){const e=j.getPublicKey(t,!1);return D(ve(e),64)}function Wn(){const t=Kt(),e=j.ProjectivePoint.fromHex(t.publicKey),n=N(t.privateKey);return{...t,k:n,x1:e.x}}function co(t){const e=[];for(let n=0,r=t.length;n<r;n++){const i=t.codePointAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>>6),e.push(128|i&63);else if(i<=55295||i>=57344&&i<=65535)e.push(224|i>>>12),e.push(128|i>>>6&63),e.push(128|i&63);else if(i>=65536&&i<=1114111)n++,e.push(240|i>>>18&28),e.push(128|i>>>12&63),e.push(128|i>>>6&63),e.push(128|i&63);else throw e.push(i),new Error("input is not supported")}return new Uint8Array(e)}var uo={};Fn(uo,{decrypt:()=>yo,encrypt:()=>po,sm4:()=>Jt});var Se=0,ho=32,qe=16,it=Uint8Array.from([214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72]),ot=new Uint32Array([462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257]);function Be(t){return(it[t>>>24&255]&255)<<24|(it[t>>>16&255]&255)<<16|(it[t>>>8&255]&255)<<8|it[t&255]&255}function go(t,e,n){let r=0,i=0,o=0,s=0,a=0,l=0,f=0,c=0;a=t[0]&255,l=t[1]&255,f=t[2]&255,c=t[3]&255,r=a<<24|l<<16|f<<8|c,a=t[4]&255,l=t[5]&255,f=t[6]&255,c=t[7]&255,i=a<<24|l<<16|f<<8|c,a=t[8]&255,l=t[9]&255,f=t[10]&255,c=t[11]&255,o=a<<24|l<<16|f<<8|c,a=t[12]&255,l=t[13]&255,f=t[14]&255,c=t[15]&255,s=a<<24|l<<16|f<<8|c;for(let u=0;u<32;u+=4)a=i^o^s^n[u],a=Be(a),r^=a^(a<<2|a>>>30)^(a<<10|a>>>22)^(a<<18|a>>>14)^(a<<24|a>>>8),l=o^s^r^n[u+1],l=Be(l),i^=l^(l<<2|l>>>30)^(l<<10|l>>>22)^(l<<18|l>>>14)^(l<<24|l>>>8),f=s^r^i^n[u+2],f=Be(f),o^=f^(f<<2|f>>>30)^(f<<10|f>>>22)^(f<<18|f>>>14)^(f<<24|f>>>8),c=r^i^o^n[u+3],c=Be(c),s^=c^(c<<2|c>>>30)^(c<<10|c>>>22)^(c<<18|c>>>14)^(c<<24|c>>>8);e[0]=s>>>24&255,e[1]=s>>>16&255,e[2]=s>>>8&255,e[3]=s&255,e[4]=o>>>24&255,e[5]=o>>>16&255,e[6]=o>>>8&255,e[7]=o&255,e[8]=i>>>24&255,e[9]=i>>>16&255,e[10]=i>>>8&255,e[11]=i&255,e[12]=r>>>24&255,e[13]=r>>>16&255,e[14]=r>>>8&255,e[15]=r&255}function mo(t,e,n){let r=0,i=0,o=0,s=0,a=0;r=(t[0]&255)<<24|(t[1]&255)<<16|(t[2]&255)<<8|t[3]&255,i=(t[4]&255)<<24|(t[5]&255)<<16|(t[6]&255)<<8|t[7]&255,o=(t[8]&255)<<24|(t[9]&255)<<16|(t[10]&255)<<8|t[11]&255,s=(t[12]&255)<<24|(t[13]&255)<<16|(t[14]&255)<<8|t[15]&255,r^=2746333894,i^=1453994832,o^=1736282519,s^=2993693404;for(let l=0;l<32;l+=4)a=i^o^s^ot[l+0],a=Be(a),r^=a^(a<<13|a>>>19)^(a<<23|a>>>9),e[l+0]=r,a=o^s^r^ot[l+1],a=Be(a),i^=a^(a<<13|a>>>19)^(a<<23|a>>>9),e[l+1]=i,a=s^r^i^ot[l+2],a=Be(a),o^=a^(a<<13|a>>>19)^(a<<23|a>>>9),e[l+2]=o,a=r^i^o^ot[l+3],a=Be(a),s^=a^(a<<13|a>>>19)^(a<<23|a>>>9),e[l+3]=s;if(n===Se)for(let l=0;l<16;l++)[e[l],e[31-l]]=[e[31-l],e[l]]}var st=new Uint8Array(16);function Jt(t,e,n,r={}){let{padding:i="pkcs#7",mode:o,iv:s=new Uint8Array(16),output:a}=r;if(o==="cbc"&&(typeof s=="string"&&(s=re(s)),s.length!==128/8))throw new Error("iv is invalid");if(typeof e=="string"&&(e=re(e)),e.length!==128/8)throw new Error("key is invalid");if(typeof t=="string"?n!==Se?t=co(t):t=re(t):t=Uint8Array.from(t),(i==="pkcs#5"||i==="pkcs#7")&&n!==Se){const m=qe-t.length%qe,y=new Uint8Array(t.length+m);y.set(t,0);for(let p=0;p<m;p++)y[t.length+p]=m;t=y}const l=new Uint32Array(ho);mo(e,l,n);let f=new Uint8Array(t.length),c=s,u=t.length,h=0;for(;u>=qe;){const m=t.subarray(h,h+16);if(o==="cbc")for(let y=0;y<qe;y++)n!==Se&&(m[y]^=c[y]);go(m,st,l);for(let y=0;y<qe;y++)o==="cbc"&&n===Se&&(st[y]^=c[y]),f[h+y]=st[y];o==="cbc"&&(n!==Se?c=st:c=m),u-=qe,h+=qe}if((i==="pkcs#5"||i==="pkcs#7")&&n===Se){const m=f.length,y=f[m-1];for(let p=1;p<=y;p++)if(f[m-p]!==y)throw new Error("padding is invalid");f=f.slice(0,m-y)}return a!=="array"?n!==Se?ut(f):Wt(f):f}function po(t,e,n={}){return Jt(t,e,1,n)}function yo(t,e,n={}){return Jt(t,e,0,n)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vo="0484C7466D950E120E5ECE5DD85D0C90EAA85081A3A2BD7C57AE6DC822EFCCBD66620C67B0103FC8DD280E36C3B282977B722AAEC3C56518EDCEBAFB72C5A05312",bo=t=>(cr("data-v-3ff7cefc"),t=t(),ur(),t),wo={class:"w-full h-full flex"},xo=bo(()=>at("div",{class:"w-2/5 bg-sky-500/100"},null,-1)),Eo={class:"w-3/5"},So={class:"w-2/5 h-36"},Ao=Ft({__name:"index",setup(t){const e=Ae({account:null,password:null}),n=Ae(null),r=sr(),i=ar(),o=()=>{var a;(a=n.value)==null||a.validate(async l=>{if(l)r.error("请输入相关信息！");else{let f={account:e.value.account,password:Nn.doEncrypt(e.value.password,vo,1)};try{const c=await dr(f);c.code===200?(r.success("登录成功！"),hr.set("token",c.result.accessToken),i.push("/main")):r.error(c.message)}catch{r.error("登录失败！")}}})},s={account:{required:!0,message:"请输入姓名",trigger:["input","blur"]},password:{required:!0,message:"请输入电话号码",trigger:["input"]}};return(a,l)=>(fr(),lr("div",wo,[xo,at("div",Eo,[at("div",So,[Te(Ce(br),{ref_key:"formRef",ref:n,model:e.value,rules:s,"label-placement":"left","label-width":"auto"},{default:nt(()=>[Te(Ce(xt),{label:"账号",path:"account"},{default:nt(()=>[Te(Ce(nn),{placeholder:"请输入账号",value:e.value.account,"onUpdate:value":l[0]||(l[0]=f=>e.value.account=f)},null,8,["value"])]),_:1}),Te(Ce(xt),{label:"密码",path:"password"},{default:nt(()=>[Te(Ce(nn),{type:"password","show-password-on":"mousedown",placeholder:"请输入密码",value:e.value.password,"onUpdate:value":l[1]||(l[1]=f=>e.value.password=f)},null,8,["value"])]),_:1}),Te(Ce(xt),null,{default:nt(()=>[at("div",{onClick:o,class:"login-btn w-full cursor-pointer text-center rounded bg-sky-500/75"},"登录")]),_:1})]),_:1},8,["model"])])])]))}});const Ro=gr(Ao,[["__scopeId","data-v-3ff7cefc"]]);export{Ro as default};
